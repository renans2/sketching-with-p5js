import{p as d}from"./index-CYgE86nV.js";import{g as h}from"./get-canvas-size-2m1UvVAj.js";const S=s=>{const r=[];s.setup=()=>{const t=h();s.createCanvas(t,t),s.colorMode(s.HSL),s.noStroke()},s.draw=()=>{s.background(0,0,0,.1);for(let t=r.length-1;t>=0;t--){const e=r[t];e.updateAndDisplay(),e.isOver()&&r.splice(t,1)}},s.windowResized=()=>{const t=h();s.resizeCanvas(t,t)},s.mouseClicked=()=>{r.push(new c(s.mouseX,s.mouseY))};class c{timeToLive;timer;sparks;nSparks;constructor(e,i){this.timeToLive=s.random(1e3,4e3),this.timer=0,this.sparks=[],this.nSparks=s.random(70,150);const o=s.random(360);for(let a=0;a<this.nSparks;a++){const n=d.Vector.random2D();n.mult(s.random(2,2.3)),this.sparks.push(new m(e,i,n,o))}}updateAndDisplay(){const e=s.map(this.timer,0,this.timeToLive,1,0);for(let i=0;i<this.nSparks;i++)this.sparks[i].updateAndDisplay(e);this.timer+=s.deltaTime}isOver(){return this.timer>this.timeToLive}}class m{hue;x;y;vector;constructor(e,i,o,a){this.hue=a,this.x=e,this.y=i,this.vector=o}updateAndDisplay(e){this.vector.add(0,.02),this.x+=this.vector.x,this.y+=this.vector.y,s.fill((this.hue+s.frameCount*2)%360,100,50,e),s.circle(this.x,this.y,5),s.fill(this.hue,100,100,e),s.circle(this.x,this.y,5/2)}}};export{S as sketch};
